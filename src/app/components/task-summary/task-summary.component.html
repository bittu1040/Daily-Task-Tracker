<mat-expansion-panel class="theme-expansion-panel">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div class="d-flex align-items-center">
          <mat-icon class="me-2 theme-icon">summarize</mat-icon>
            AI Task Summary
        </div>
      </mat-panel-title>
    </mat-expansion-panel-header>
    <mat-card-content class="p-3">
      <button 
        mat-raised-button 
        class="w-100 theme-button mb-2" 
        (click)="generateSummary()"
        [disabled]="isGeneratingSummary || commonService.tasks().length === 0"
      >
        @if(isGeneratingSummary) {
          <ng-container>
            <mat-icon>hourglass_empty</mat-icon> Generating Summary...
          </ng-container>
        } @else {
          <ng-container>
            <mat-icon>auto_awesome</mat-icon> Generate Summary
          </ng-container>
        }
      </button>
      @if(showSummary){
      <div class="summary-content p-3 theme-summary-box">
        <p class="mb-0">{{ taskSummary }}</p>   
      </div>
      }
    </mat-card-content>
  </mat-expansion-panel>